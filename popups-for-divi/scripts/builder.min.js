var builder=function(){"use strict";!function(t){var a=window.DiviAreaFB=window.DiviAreaFB||{},e=!1,o=!1,n=!1,s=!1,i={},d="",r={admin_label:"",module_id:"",module_class:"",da_is_popup:"off",da_popup_slug:"",da_exit_intent:"off",da_has_close:"on",da_alt_close:"off",da_dark_close:"off",da_not_modal:"on",da_is_singular:"off",da_with_loader:"off",da_has_shadow:"on",da_disable_devices:"off|off|off"},l=0;function _(){e&&function(){if(!e)return;var o=a.getAppFrame(),n=t(o.document);clearInterval(e),e=0,n.off(".da",'input[name^="da_"]'),n.off(".da",".et-fb-button"),n.off(".da",'input[name="module_id"], input[name="module_class"]')}();var o=a.getAppFrame();if(o){try{d=ETBuilderBackend.i18n.library.Section}catch(t){d="Section"}e=setInterval(u,500);var n=t(o.document);n.on("blur.da",'input[name^="da_"]',u),n.on("click.da",".et-fb-button",u),n.on("blur.da",'input[name="module_id"], input[name="module_class"]',(function(){!function(){var t=a.isEditing("et_pb_section");if(!t)return;for(var e=0;e<t.state.sections.length;e++){var o=t.state.sections[e],n=!1;c(o)&&(n=m(n=v(o))),n&&p(n)}}()})),n.on("blur.da",'input[name="da_popup_slug"]',(function(){t(this).val(a.sanitizeSlug(t(this).val()))}))}else setTimeout(_,250)}function u(){var e=a.isEditing("et_pb_section");if(e){var o=e.state.activeModule,n=t(e.document).find(".et-fb-modal__module-settings").find(".et-fb-tabs__item--active").text(),s=!1;"Popup"!==n&&"Divi Areas"!==n||!function(t){var a=t.address,e=i[a],o=!1;e||(o=!0,e={});for(var n in r)0===n.indexOf("da_")&&t.attrs[n]!==e[n]&&(o=!0,e[n]=t.attrs[n]);o&&(i[a]=e);return o}(o.props)||(s=m(o.props)),s&&p(s)}}function f(t,a){if(!a.length)return t;var e=a.shift();return!(!t||void 0===t[e])&&f(t[e],a)}function p(t){var e=a.getAppFrame(),o=t.address;function n(t,a){for(var e in r)a.attrs[e]!==t.attrs[e]&&(void 0===t.attrs[e]?a.attrs[e]="":a.attrs[e]=t.attrs[e])}var i=a.isEditing(t.type);i?n(t,i.state.activeModule.props):i=a.getApp();for(var d=0;d<i.state.sections.length;d++)o===i.state.sections[d].address&&n(t,i.state.sections[d]);s&&clearTimeout(s),s=setTimeout((function(){s=!1;var t=document.createEvent("MouseEvents"),a=document.createEvent("MouseEvents"),o=e.jQuery(".et-fb-modal__resize")[0],n=e;o&&n&&(t.initMouseEvent("mousedown",!0,!0),a.initMouseEvent("mouseup",!0,!0),o.dispatchEvent(t),n.dispatchEvent(a))}),50)}function c(t){var a=i[t.address],e=!1;return a||(e=!0,a={}),void 0===a.module_id&&(a.module_id=""),void 0===a.module_class&&(a.module_class=""),t.attrs.module_id!==a.module_id&&(t.attrs.module_id||a.module_id)&&(e=!0,a.module_id=t.attrs.module_id),t.attrs.module_class!==a.module_class&&(t.attrs.module_class||a.module_class)&&(e=!0,a.module_class=t.attrs.module_class),e&&(i[t.address]=a),e}function m(t){var e=t.address,o=h(t),n=(t.attrs.module_class||"").split(" "),s=t.attrs.da_is_popup||"off",r=t.attrs.da_popup_slug||"",l=t.attrs.da_exit_intent||"off",_=t.attrs.da_has_close||"on",u=t.attrs.da_alt_close||"off",f=t.attrs.da_dark_close||"off",p=t.attrs.da_not_modal||"on",c=t.attrs.da_is_singular||"off",m=t.attrs.da_with_loader||"off",v=t.attrs.da_has_shadow||"on",g=(t.attrs.da_disable_devices||"off|off|off").split("|"),b=["popup","on-exit","no-close","close-alt","dark","is-modal","single","with-loader","no-shadow","not-mobile","not-tablet","not-desktop"];return n=n.filter((function(t){return-1===b.indexOf(t)})),"on"===s&&(n.push("popup"),"on"===l&&n.push("on-exit"),"on"!==_?n.push("no-close"):("on"===u&&n.push("close-alt"),"on"===f&&n.push("dark")),"on"!==p&&n.push("is-modal"),"on"===c&&n.push("single"),"on"===m&&n.push("with-loader"),"on"!==v&&n.push("no-shadow"),"on"===g[0]&&n.push("not-mobile"),"on"===g[1]&&n.push("not-tablet"),"on"===g[2]&&n.push("not-desktop"),o.attrs.module_id=r?a.sanitizeSlug(r):""),"on"===s?o.attrs.admin_label&&d!==o.attrs.admin_label&&0!==o.attrs.admin_label.indexOf("Popup - ")||(o.attrs.module_id?o.attrs.admin_label="Popup - #"+o.attrs.module_id:o.attrs.admin_label="Popup - (unnamed)"):o.attrs.admin_label&&0!==o.attrs.admin_label.indexOf("Popup - ")||(o.attrs.admin_label=d),o.attrs.module_class=n.filter((function(t){return t})).join(" "),i[e].module_class=o.attrs.module_class,i[e].module_id=o.attrs.module_id,i[e].admin_label=o.attrs.admin_label,o}function v(t){var e=t.address,o=h(t),n=a.sanitizeSlug(t.attrs.module_id),s=(t.attrs.module_class||"").split(" "),d=["off","off","off"];return o.attrs.da_is_popup=-1!==s.indexOf("popup")?"on":"off",o.attrs.da_has_close=-1===s.indexOf("no-close")?"on":"off",o.attrs.da_exit_intent=-1!==s.indexOf("on-exit")?"on":"off",o.attrs.da_alt_close=-1!==s.indexOf("close-alt")?"on":"off",o.attrs.da_dark_close=-1!==s.indexOf("dark")?"on":"off",o.attrs.da_not_modal=-1===s.indexOf("is-modal")?"on":"off",o.attrs.da_is_singular=-1!==s.indexOf("single")?"on":"off",o.attrs.da_with_loader=-1!==s.indexOf("with-loader")?"on":"off",o.attrs.da_has_shadow=-1===s.indexOf("no-shadow")?"on":"off",d[0]=-1!==s.indexOf("not-mobile")?"on":"off",d[1]=-1!==s.indexOf("not-tablet")?"on":"off",d[2]=-1!==s.indexOf("not-desktop")?"on":"off",o.attrs.da_disable_devices=d.join("|"),n&&(o.attrs.da_popup_slug=n),i[e].da_is_popup=o.attrs.da_is_popup,i[e].da_popup_slug=a.sanitizeSlug(o.attrs.da_popup_slug),i[e].da_has_close=o.attrs.da_has_close,i[e].da_exit_intent=o.attrs.da_exit_intent,i[e].da_alt_close=o.attrs.da_alt_close,i[e].da_dark_close=o.attrs.da_dark_close,i[e].da_not_modal=o.attrs.da_not_modal,i[e].da_is_singular=o.attrs.da_is_singular,i[e].da_has_shadow=o.attrs.da_has_shadow,i[e].da_disable_devices=o.attrs.da_disable_devices,i[e].da_with_loader=o.attrs.da_with_loader,o}function h(t){return JSON.parse(JSON.stringify(t))}a.init=function(){if(window.ET_Builder){var t=(window._daConfig||{}).divi_areas_cpt||"divi-area";((((ET_Builder.Frames||{}).app||{}).ETBuilderBackendDynamic||{}).postType||"page")!==t&&_()}else{if(!(++l<10))throw new Error("Could not initialize the Library (ET_Builder is undefined)");setTimeout(a.init,250)}},a.getAppFrame=function(){return!!(window.top.ET_Builder&&window.top.ET_Builder.Frames&&window.top.ET_Builder.Frames.top)&&window.top.ET_Builder.Frames.top},a.getApp=function(){var e=a.getAppFrame();if(!e)return!1;var s=t(e.document).find("#et-fb-app .place-top");if(!s||!s.length)return!1;if(!n||!s[0][n])for(var i in s[0])if(s[0].hasOwnProperty(i)&&0===i.indexOf("__reactInternalInstance$")){o=i.substr(24),n="__reactInternalInstance$"+o;break}var d=s[0][n],r=f(d,["alternate","return","alternate","return","alternate","memoizedProps","_owner","alternate","memoizedState"]),l=f(d,["return","stateNode","setState"]);return!(!r||!l)&&{document:e.document,state:r,setState:l.bind(d.return.stateNode)}},a.isEditing=function(t){var e=a.getApp();return e&&e.state&&e.state.activeModule&&e.state.activeModule.props&&e.state.activeModule.props.type?t&&("string"==typeof t&&(t=[t]),-1===t.indexOf(e.state.activeModule.props.type))?null:e:null},a.sanitizeSlug=function(t){return"string"!=typeof t&&(t=""),t=(t=(t=(t=t.replace(/#/g,"")).replace(/[^a-zA-Z0-9\-_]/g,"-")).replace(/\-+/g,"-")).replace(/^\-+|\-+$/g,"")}}(jQuery),jQuery(window).on("et_fb_init",(function(){window.setTimeout(window.DiviAreaFB.init,20)}));return{}}();
